{"version":3,"sources":["components/Navigation.js","components/ArtistCard.js","config.js","lib/spotify.js","components/ArtistContainer.js","components/SearchBar.js","components/Content.js","App.js","serviceWorker.js","index.js"],"names":["Navigation","Navbar","bg","variant","expand","Container","Col","Row","Brand","href","Nav","className","Link","ArtistCard","artist","Card","xs","Img","src","tracks","imageUrl","alt","Body","Title","name","map","track","Text","key","id","artistName","baseApiUrl","accessToken","request","url","options","a","fetch","response","json","jsonResponse","ok","message","error","Error","getArtistName","Array","isArray","artists","length","getArtistId","getAlbumImageUrl","hasOwnProperty","album","images","setAccessToken","token","console","log","getPath","dest","getTracks","numSongs","recommended","headers","Authorization","slice","artistId","getArtistData","formData","ArtistContainer","props","useState","setArtists","setError","isLoading","setIsLoading","useEffect","updateArtists","md","Alert","onClose","dismissible","Heading","role","aria-hidden","SearchBar","setFormData","handleChange","event","target","value","trim","range","keys","Form","inline","onSubmit","preventDefault","Group","controlId","Label","Control","placeholder","onChange","Check","type","label","as","i","lg","Button","Content","App","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.89e453bc.chunk.js","sourcesContent":["import React from 'react';\nimport { Container, Row, Col, Navbar, Nav} from 'react-bootstrap';\n\nconst Navigation = () => (\n    <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\n    <Container>\n      <Col>\n        <Row>\n          <Navbar.Brand href=\"#home\">Spotipath</Navbar.Brand>\n          <Nav className=\"mr-auto\">\n            <Nav.Link href=\"#about\">About</Nav.Link>\n          </Nav>\n        </Row>\n      </Col>\n    </Container>\n  </Navbar>\n);\n\nexport default Navigation;","import React from 'react';\nimport { Container, Row, Col, Card} from 'react-bootstrap';\n\nconst ArtistCard = ({ artist }) => (\n  <Card className=\"mt-3\">\n    <Container>\n      <Row>\n        <Col xs={4}>\n          <Card.Img \n            variant=\"top\"\n            className=\"pt-2 pb-2\"\n            src={artist.tracks[0].imageUrl} \n            alt=\"Card image cap\" \n          />\n        </Col>\n        <Col xs={8}>\n          <Card.Body>\n            <Card.Title>{artist.name}</Card.Title>\n            {artist.tracks.map((track) => (\n              <Card.Text key={track.id}>\n              <strong>{track.name}</strong> - {track.artistName}\n            </Card.Text>\n            ))}\n          </Card.Body>\n        </Col>\n      </Row>\n    </Container>\n  </Card>\n);\n\nexport default ArtistCard","export const baseApiUrl = process.env.NODE_ENV === 'production' ? \n  'https://www.kristiancharb.online' :\n  'http://127.0.0.1:5000'","import { baseApiUrl } from '../config';\n\nlet accessToken = null;\n\nconst request = async (url, options) => {\n  const response = options ?\n    await fetch(url, options) :\n    await fetch(url); \n  const jsonResponse = await response.json();\n  if (!response.ok) {\n    const message = jsonResponse?.error ?\n      jsonResponse.error :\n      'An error occurred. Please try again later.' \n    throw new Error(message);\n  }\n  return jsonResponse;\n}\n\nconst getSpotifyHeaders = () => {\n  return { \n    headers: { \n      Authorization: `Bearer ${accessToken}`\n    }\n  };\n}\n\nconst getArtistName = (track) => {\n  if (Array.isArray(track.artists) && track.artists.length > 0) {\n    return track.artists[0].name;\n  }\n}\n\nconst getArtistId = (track) => {\n  if (Array.isArray(track.artists) && track.artists.length > 0) {\n    return track.artists[0].id;\n  }\n}\n\nconst getAlbumImageUrl = (track) => {\n  const defaultImageUrl = 'http://via.placeholder.com/300x180';\n  if (track.hasOwnProperty('album') && \n    Array.isArray(track.album.images) &&\n    track.album.images.length > 0\n  ) {\n    return track.album.images[0].url;\n  } else {\n    return defaultImageUrl;\n  }\n}\n\n\nconst setAccessToken = async () => {\n  const url = `${baseApiUrl}/access-token/`\n  try {\n    const response = await request(url);\n    accessToken = response.token;\n    console.log(accessToken);\n  } catch (error) {\n    console.error('Failed to get access token');\n    console.error(error.message);\n  }\n}\n\nconst getPath = async (src, dest) => {\n  const url = `${baseApiUrl}/path/?src=${src}&dest=${dest}`;\n  return request(url)\n}\n\nconst getTracks = async (artist, numSongs, recommended) => {\n  const url = recommended ? \n    `https://api.spotify.com/v1/recommendations?limit=10&market=US&seed_artists=${artist.id}` :\n    `https://api.spotify.com/v1/artists/${artist.id}/top-tracks?market=US`;\n  const response = await request(url, getSpotifyHeaders());\n  const tracks = response.tracks;\n  console.log(numSongs);\n  return tracks.slice(0, numSongs).map((track) => (\n    {\n      id: track.id,\n      name: track.name,\n      artistId: getArtistId(track),\n      artistName: getArtistName(track),\n      imageUrl: getAlbumImageUrl(track),\n    }\n  ));\n}\n\nexport const getArtistData = async (formData) => {\n  const artists = await getPath(formData.src, formData.dest);\n  for (const artist of artists) {\n    artist.tracks = await getTracks(artist, formData.numSongs, formData.recommended);\n  }\n  return artists;\n}\n\nsetAccessToken();\n","import React, { useState, useEffect } from 'react';\nimport ArtistCard from './ArtistCard';\nimport { getArtistData } from '../lib/spotify';\nimport { Row, Col, Alert } from 'react-bootstrap';\n\nconst ArtistContainer = (props) => {\n  const { formData } = props; \n  const [artists, setArtists] = useState([]);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    if (formData.src && formData.dest) {\n      setIsLoading(true);\n      const updateArtists = async () => {\n        try {\n          const artists = await getArtistData(formData);\n          console.log(artists);\n          setArtists(artists);\n        } catch (error) {\n          setError(error.message);\n        }\n        setIsLoading(false);\n      }\n      updateArtists();\n    }\n  }, [formData]);\n\n  return (\n    <div>\n      {error && \n        <Row>\n          <Col xs={12} md={10}>\n            <Alert variant=\"danger\" onClose={() => setError(null)} dismissible>\n              <Alert.Heading>Uh oh!</Alert.Heading>\n              <p>{error}</p>\n            </Alert>\n          </Col>\n        </Row>\n      }\n      {isLoading && \n        <Row>\n          <Col xs={12} md={10}>\n            <div className=\"d-flex justify-content-center\">\n              <div className=\"spinner-border\" role=\"status\" aria-hidden=\"true\"></div>\n            </div>\n          </Col>\n        </Row>\n      }\n      {!isLoading && artists.map(artist => (\n        <Row key={artist.id}>\n          <Col xs={12} md={10}>\n            <ArtistCard artist={artist}/>\n          </Col>\n        </Row>\n      ))\n      }\n    </div>\n  );\n}\n\nexport default ArtistContainer;","import React, { useState } from 'react';\nimport { Row, Col, Form, Button} from 'react-bootstrap';\n\nconst SearchBar = (props) => {\n  const [formData, setFormData] = useState({\n    'src': null,\n    'dest': null,\n    'recommended': false,\n    'numSongs': 1,\n  });\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    props.setFormData(formData);\n    console.log(formData);\n  }\n  \n  const handleChange = (event) => {\n    setFormData({\n      ...formData,\n      [event.target.name]: event.target.value.trim()\n    });\n  }\n\n  const range = [...Array(10).keys()];\n\n  return (\n    <div>\n      <Row>\n        <Col className=\"w-100 my-4\" xs={12} md={10}>\n          <h4> \n            Enter two artists on Spotify\n          </h4>\n          <h5>\n            We'll find a path between them through related artists and generate\n            a playlist for you with their top songs.\n          </h5>\n        </Col>\n      </Row>\n      <Form inline className=\"w-100\" onSubmit={handleSubmit}>\n        <Row className=\"w-100\">\n          <Col xs={12} md={5}>\n            <Form.Group key=\"srcArtist\" controlId=\"srcArtist\">\n              <Form.Label className=\"sr-only\">Starting Artist</Form.Label>\n              <Form.Control \n                name=\"src\" \n                className=\"my-2 w-100\" \n                placeholder=\"Starting Artist\" \n                onChange={handleChange}\n              />\n            </Form.Group>\n          </Col>\n          <Col xs={12} md={5}>\n            <Form.Group key=\"destArtist\" controlId=\"destArtist\">\n              <Form.Label className=\"sr-only\">Ending Artist</Form.Label>\n              <Form.Control \n                name=\"dest\" \n                className=\"my-2 w-100\" \n                placeholder=\"Ending Artist\" \n                onChange={handleChange}\n              />\n            </Form.Group>\n          </Col>\n        </Row>\n        <Row className=\"w-100 pt-2\">\n          <Col xs={12} md={10}>\n            <Form.Group controlId=\"recommended\">\n              <Form.Check \n                name=\"recommended\"\n                type=\"checkbox\" \n                label=\"Add recommended songs by artists not necessarily in the path\"\n                onChange={handleChange}\n              />\n            </Form.Group>\n          </Col>\n        </Row>\n        <Row className=\"w-100 pt-2\">\n          <Col xs={12} md={10}>\n            <Form.Group controlId=\"numSongs\">\n              <Form.Label className=\"mr-4\">Maximum number of songs per artist: </Form.Label>\n              <Form.Control \n                name=\"numSongs\" \n                className=\"px-4\" \n                as=\"select\"\n                onChange={handleChange}\n              >\n                {range.map(i => <option key={i}>{i + 1}</option>)}\n              </Form.Control>\n            </Form.Group>\n          </Col>\n        </Row>\n        <Row className=\"w-100 pt-2\">\n          <Col xs={12} md={6} lg={4}>\n            <Button className=\"my-2 w-100\" variant=\"primary\" type=\"submit\">\n              Find Path\n            </Button>\n          </Col>\n        </Row>\n      </Form>\n    </div>\n  );\n}\n\nexport default SearchBar;","import React, { useState } from 'react';\nimport ArtistContainer from './ArtistContainer';\nimport SearchBar from './SearchBar';\nimport { Container } from 'react-bootstrap';\n\nconst Content = () => {\n  const [formData, setFormData] = useState({ src: null, dest: null });\n\n  return (  \n    <Container>\n      <SearchBar setFormData={setFormData} />\n      <ArtistContainer formData={formData} />\n    </Container>\n  );\n}\n\n\nexport default Content;","import React from 'react';\nimport './scss/App.scss'\nimport Navigation from './components/Navigation'\nimport Content from './components/Content'\n\n\nconst App = () => (\n  <div>\n    <Navigation />\n    <Content />\n  </div>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}